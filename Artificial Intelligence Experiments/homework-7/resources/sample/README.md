# 课堂辩论系统：AI教育应用讨论

一个基于LangGraph和LangChain的多智能体课堂辩论系统，用于模拟关于人工智能是否应该在教育领域全面应用的课堂讨论。

## 系统概述

本系统实现了一个结构化的课堂辩论环境，其中包括教师主持人和对立团队的多个AI代理，围绕AI教育应用进行讨论。辩论遵循特定顺序，并通过搜索工具整合实时信息。

## 系统架构

### 代理类型

1. **教师（主持人）**
   - 引导讨论进程
   - 确保辩论有序进行
   - 提供总结和过渡
   - 决定辩论终止时机

2. **正方团队（3名代理）**
   - 支持在教育领域全面应用AI
   - 基于效率提升、个性化学习和教育创新角度进行论述
   - 分别命名为Pro1、Pro2和Pro3

3. **反方团队（3名代理）**
   - 反对在教育领域全面应用AI
   - 基于教育本质、师生关系和学习体验角度进行论述
   - Con1具有特殊的ReAct能力
   - 分别命名为Con1、Con2和Con3

### 辩论流程

辩论按照以下顺序进行：
```
教师 → 正方1 → 反方1 → 正方2 → 反方2 → 正方3 → 反方3 → 教师
```

### 记忆系统

- 每个代理维护自己的辩论记忆
- 保存最近5条消息作为上下文
- 包含发言者、内容和时间戳
- 确保回应的连贯性和上下文相关性

### ReAct集成

Con1代理通过ReAct框架具有增强功能：
1. **思考**：分析需要什么信息
2. **搜索**：使用搜索工具获取实时信息
3. **反应**：基于搜索结果形成观点
4. **行动**：发表有依据的论述

### 搜索工具

- 为关键主题提供预设回应：
  - AI教育效益
  - AI应用担忧
  - 教师影响评估
  - 学生反馈数据
- 默认提供教育AI发展趋势信息

## 技术实现

### 状态管理

```python
class AgentState(TypedDict):
    messages: List[Dict[str, str]]  # 消息历史
    current_speaker: str            # 当前发言者
    round: int                      # 当前轮次
    max_rounds: int                 # 最大轮次
    terminated: bool                # 是否结束
```

### 核心组件

1. **DebateAgent类**
   - 所有代理的基础类
   - 处理记忆管理
   - 管理上下文生成
   - 处理响应过程

2. **节点函数**
   - teacher_node：处理主持人逻辑
   - pro_node：处理正方团队响应
   - con_node：处理反方团队响应及ReAct集成

3. **图结构**
   - 基于LangGraph构建
   - 管理辩论流程和转换
   - 处理状态更新

## 运行要求

- Python 3.x
- LangChain
- LangGraph
- OpenAI API（通义千问模型）

## 配置说明

系统使用通义千问-Turbo模型，配置如下：
```python
model = ChatOpenAI(
    model="qwen-turbo",
    base_url="https://dashscope.aliyuncs.com/compatible-mode/v1",
    temperature=0.7
)
```

## 运行方法

1. 确保安装所有依赖
2. 配置API密钥
3. 运行主脚本：
```bash
python ClassDebate.py
```

## 未来改进方向

1. 动态搜索工具与真实API集成
2. 增强记忆管理系统
3. 更复杂的辩论策略
4. 实时数据分析功能
5. 交互式用户参与功能
6. 可自定义辩论主题和结构

## 注意事项

- 本系统设计用于教育目的
- 辩论内容聚焦于教育创新与传统教育的平衡
- 响应生成考虑教育伦理和实践价值 